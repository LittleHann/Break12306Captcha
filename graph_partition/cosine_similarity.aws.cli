aws emr create-cluster --auto-scaling-role EMR_AutoScaling_DefaultRole --applications Name=Hadoop Name=Spark --ec2-attributes '{"KeyName":"kk","InstanceProfile":"EMR_EC2_DefaultRole","SubnetId":"subnet-12e23a5b","EmrManagedSlaveSecurityGroup":"sg-b10c6fcb","EmrManagedMasterSecurityGroup":"sg-bc0c6fc6"}' --service-role EMR_DefaultRole --enable-debugging --release-label emr-5.2.0 --log-uri 's3n://aws-logs-739654331287-us-east-1/elasticmapreduce/' --steps '[{"Args":["spark-submit","--deploy-mode","cluster","s3://cmu-miis-capstone-heqing/src/cosine_similarity.py","s3://cmu-miis-capstone-heqing/data/queries_new.txt","s3://cmu-miis-capstone-heqing/data/fc7_new.txt","s3://cmu-miis-capstone-heqing/adj_like_sim_new"],"Type":"CUSTOM_JAR","ActionOnFailure":"CANCEL_AND_WAIT","Jar":"command-runner.jar","Properties":"","Name":"Spark application"}]' --name 'capstone_weights' --instance-groups '[{"InstanceCount":10,"BidPrice":"0.2","EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":100,"VolumeType":"gp2"},"VolumesPerInstance":1}],"EbsOptimized":true},"InstanceGroupType":"CORE","InstanceType":"m3.xlarge","Name":"Core - 5"},{"InstanceCount":1,"BidPrice":"0.5","EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":100,"VolumeType":"gp2"},"VolumesPerInstance":1}],"EbsOptimized":true},"InstanceGroupType":"MASTER","InstanceType":"m3.xlarge","Name":"Master - 1"}]' --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --auto-terminate --region us-east-1